<div class="header" >
  <div class="property-name" contenteditable #key (blur)="onKeyChanged(key.textContent)">{{data.key}}</div>
  <div class="spacer"></div>
  <div class="type-badge" (click)="collapsed=!collapsed">
    String
  </div>
</div>

<div class="content" *ngIf="!collapsed">
 {{path}}

  <div class="field-container" *ngIf="data.data.hasOwnProperty('description')">
    <md-input-container>
      <input mdInput placeholder="Description" [(ngModel)]="data.data.description">
    </md-input-container>
    <button (click)="deleteField('description')">-</button>
  </div>


  <div class="field-container" *ngIf="data.data.hasOwnProperty('format')">
    <md-select placeholder="Format" [(ngModel)]="data.data.format">
      <md-option *ngFor="let format of formats" [value]="format">{{ format }}</md-option>
    </md-select>
    <button (click)="deleteField('format')">-</button>
  </div>


  <div *ngIf="data.data.hasOwnProperty('maxLength')">
    <md-input-container>
      <input mdInput type="number" placeholder="maxLength" [(ngModel)]="data.data.maxLength">
    </md-input-container>
    <button (click)="deleteField('maxLength')">-</button>
  </div>

  <div *ngIf="data.data.hasOwnProperty('minLength')">
    <md-input-container>
      <input mdInput type="number" placeholder="maxLength" [(ngModel)]="data.data.minLength">
    </md-input-container>
    <button (click)="deleteField('minLength')">-</button>
  </div>


  <div *ngIf="data.data.enum">
    Enum
    <ul>
      <li *ngFor="let e of data.data.enum;let i = index">
        <input [value]="e" (change)="data.data.enum[i]=$event.currentTarget.value">
        <button (click)="data.data.enum.splice(i,1)">-</button>
      </li>
      <button (click)="data.data.enum.push('')">+</button>
    </ul>
  </div>

</div>
<md-select placeholder="Add Property" [(ngModel)]="myState" floatPlaceholder="never">
  <md-option (click)="addField(state)" *ngFor="let state of fields">{{ state }}</md-option>
</md-select>
<button (click)="deleteProperty()">-</button>



